<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>NFL Elo Ratings</title>
  <link rel="stylesheet" href="style.css" />
</head>
<body>
  <header>
    <h1>NFL Elo Power Ratings</h1>
    <p class="tagline">Upload CSVs or auto-fetch nflverse data to generate ratings and betting edges.</p>
  </header>

  <main>
    <section class="panel">
      <h2>1. Provide Input Data</h2>
      <p class="hint">Use CSVs from the Python CLI, nflverse exports, or let the site download the latest schedule/results for you.</p>
      <div class="input-grid">
        <label class="file-input">
          <span class="input-title">Completed Games</span>
          <input type="file" id="gamesFile" accept=".csv" />
          <span class="input-desc">Finished games with scores.</span>
        </label>
        <label class="file-input">
          <span class="input-title">Upcoming Schedule</span>
          <input type="file" id="upcomingFile" accept=".csv" />
          <span class="input-desc">Fixtures to project (season/week required).</span>
        </label>
        <label class="file-input">
          <span class="input-title">Market Lines (Optional)</span>
          <input type="file" id="marketFile" accept=".csv" />
          <span class="input-desc">Spread and moneyline odds for edge calculations.</span>
        </label>
      </div>

      <div class="auto-fetch">
        <h3>Auto-Fetch from nflverse</h3>
        <div class="auto-controls">
          <label for="seasonInput">Seasons (comma/range):</label>
          <input id="seasonInput" type="text" value="2010-2025" autocomplete="off" />
          <button id="autoFetchBtn" type="button">Fetch Latest Data</button>
        </div>
        <p id="autoStatus" class="hint">Awaiting auto fetch (optional).</p>
      </div>
    </section>

    <section class="panel">
      <h2>2. Run Elo Model</h2>
      <p class="hint">Defaults: base rating 1500, K=20, regression 25%, home field +55 Elo, 25 Elo per point spread.</p>
      <button id="runBtn">Run Model</button>
    </section>

    <section id="outputs" class="panel outputs">
      <p>Waiting for inputâ€¦</p>
    </section>
  </main>

  <footer>
    <p>All calculations run locally in your browser. Data sourced from nflverse (habitatring.com games.csv).</p>
  </footer>

  <script src="papaparse.min.js"></script>
  <script src="app.js"></script>
</body>
</html>
